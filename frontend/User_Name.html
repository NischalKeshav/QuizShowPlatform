<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Enter Name</title>
  <link rel="stylesheet" href="User_Name.css" />
</head>
<body>
  <div class="card">
    <div class="logo">Quiz Whiz</div>
    <div class="subtitle">Youâ€™re in! Enter your name</div>

    <input
      class="name-input"
      type="text"
      placeholder="Your nickname"
      maxlength="16"
      autofocus
    />

   <button>Join Game</button>

     <div class="hint">No real names required ðŸ˜‰</div>
   </div>

   <script src="https://cdn.socket.io/4.8.3/socket.io.min.js"></script>
   <script>
     const nameInput = document.querySelector('.name-input');
     const joinButton = document.querySelector('button');

     joinButton.addEventListener('click', () => {
       const name = nameInput.value.trim();
        const roomCode = sessionStorage.getItem('roomCode');
        if (!name || !roomCode) return;

         const socket = io('http://localhost:3000'); // Assuming backend on localhost:3000

        socket.emit('join_room', { roomCode, name });

       socket.on('room_joined', (data) => {
         sessionStorage.setItem('userId', data.userId);
         sessionStorage.setItem('roomCode', data.roomCode);
         // Navigate to player slide view
         window.location.href = 'Slide.html';
       });

       socket.on('join_error', (data) => {
         alert(data.message);
       });
     });
   </script>
 </body>
</html>